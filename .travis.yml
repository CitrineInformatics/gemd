language: python
python:
- '3.5'
- '3.6'
install:
- pip install -U -r requirements.txt
- pip install -U -r test_requirements.txt
- pip install --no-deps -e .
script:
- pytest --flake8 --cov=taurus --cov-report term-missing --cov-report term:skip-covered
  --cov-fail-under=90 -s -r ./taurus
- cd docs; make html; cd ..;
- touch ./docs/_build/html/.nojekyll
deploy:
  provider: pages
  skip_cleanup: true
  github_token: $GH_SECRET_TOKEN
  keep_history: true
  local_dir: ./docs/_build/html/
  on:
    branch: develop
env:
  global:
    secure: JNAjYgfQL+xCScKx9ddwYA9Oorp1G/TvMX6axKCS16K5fxz22UlTHQKeoM6TMPsoNtWNSEREzGkYdlSU8AARWoa9TsqC8vKby1GPRYOWb+3EzIJJXx82jn3C0/zrZQ6GSZf+qORLD/YeOJ2rcD6/JyCxx8iwSbZx+vOAwgbdveJuzOiL1i3Bd8vndn8Tv+sLU8aytrlu9SSsYd62uW7GBRXfQNaIaAYtQXQRPd05to18o1m1970xRT+EsjS9NlJTOdDWfaz0LZDnAbCbdjd2ArJP6ffYYWEgPcvNc/KFa+jLtEBVuJE09sx1S022dtuID7pKfAxoZwQesDuPgRqZ+bW+TIeZ468J4ExI18+aKBFq7He4PDrnY1xmjR7nDOb0K3mkPVOYVcWMtiURpd5p+NCTuI6enkRCLTeVnvJg2m9U0KtYqQspBhO1TXvXmlGNm/IP77AqRJ8cpF/tUwN46/2yAYt8RcxsH2LVXykSFLPePDE74TanK7HQJW1qR0ZmJoZlLNtdaSS+XoFo+dOI6W2jnCVL6jMNmuR6bR9xnpAPKqY8FblBPo3bwbLEcS/l//ckmtCsZgFt1HPaElcbxGGJnZJkEWD2QwitDjPOC1SwjmpgDFrsTb8TjRgrG/ccQlk5xA3tSREIreT68FCMiV9tiz6T2HGuzmZFFsEQV3Y=
